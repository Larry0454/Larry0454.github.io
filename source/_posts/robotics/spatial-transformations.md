---
title: 『robotics-1』spatial transform
date: 2024-07-07 22:55:44
tags: robotics
---

## 空间变换与运动

### 一、自由度

- 位形：机器人上每个**点位的全体**的集合，可根据位形确定机器人上所有点的位置；如二维坐标 (x, y) 可表示平面上任意点位置

  位形空间：包含所有可能的机器人位形的 n 维空间，一般记作 C-space；机器人位形通常用 C-space 中的一个特征点表示

- 自由度定义：表示机器人位形的**最少<u>连续实值</u>坐标数**

- 刚体的自由度：系统自由度 = (系统内各点的自由度之和) - (系统**独立约束**数)

  - 三维空间中的刚体：6 个自由度，推导过程如下：

    1. 任选三维空间中刚体上的三个点A、B、C，分别记作 $(x_A, y_A, z_A)$、$(x_B, y_B, z_B)$、$(x_C, y_C, z_C)$
    2. 由刚体性质，A和B的间距恒定值$d_{AB}$，故B只可能分布在以A为球心、$d_{AB}$为半径的球面上，即B可用经纬度 $(\lambda, \phi)$ 表示
    3. 由刚体性质，A和C、B和C的间距均为定值$d_{AC}$、$d_{BC}$，故C只可能分布在球A和球B的交圆上，即C可用圆上转角 $\theta$ 表示

    故三维空间内的刚体自由度为 6，可以用 $(x_A, y_A, z_A, \lambda, \phi, \theta)$ 表示

  - 二维平面中的刚体：3 个自由度，相当于在三维空间的情形下新增了三个独立约束 $z_A = 0, z_B = 0, z_C = 0$

- 机器人的自由度：通过<u>刚体</u>和<u>关节</u>得到机器人的自由度

  - 机器人关节：连接两个构件，可分为以下几个类别：
  
    - 转动副：关节自由度 = 1，允许两个构件绕同一个关节轴旋转，又称**铰链**
      <br><img src="转动副.jpg" width=60%>
  
      > **注意**：转动副 对另一<u>平面刚体</u>的约束 = 2，对另一<u>空间刚体</u>的约束 = 5（保留一个旋转自由度）
  
    - 移动副：关节自由度 = 1，允许关节沿轴线方向平移运动，又称**滑动**
      <br><img src="移动副.jpg" width=60%>
  
      > **注意**：移动副 对另一<u>平面刚体</u>的约束 = 2，对另一<u>空间刚体</u>的约束 = 5（保留一个平移自由度）
  
    - 螺旋副：关节自由度 = 1，允许两个构件绕同一个关节轴旋转、且在旋转的**同时**平移运动
      <br><img src="螺旋副.jpg" width=60%>
  
      > **注意**：螺旋副 对<u>空间刚体</u>的约束 = 5（保留一个旋转自由度，无法讨论对平面刚体的约束，下同）
  
    - 圆柱副：关节自由度 = 2，允许两个构件沿关节轴做**独立**的平移和旋转
      <br><img src="圆柱副.jpg" width=60%>
  
      > **注意**：圆柱副 对另一<u>空间刚体</u>的约束 = 4（保留一个旋转 + 一个平移自由度）
  
    - 虎克铰：关节自由度 = 2，由两个**正交排列**的转动副组成，又称**万向节**
      <br><img src="虎克铰.jpg" width=60%>
  
      > **注意**：虎克铰 对另一<u>空间刚体</u>的约束 = 4（保留两个旋转自由度）
  
    - 球铰：关节自由度 = 3，类似人类的**肩关节**
      <br><img src="球铰.jpg" width=60%>
  
      > **注意**：球铰 对另一<u>空间刚体</u>的约束 = 3（保留三个旋转自由度）
  
  - Grubler 公式：设机构有 $N$ 个构件（含基座），有 $J$ 个关节；第 $i$ 个关节的自由度为 $f_i$、独立约束数为 $c_i$
    <br>则该机器人的自由度如下：
    $$
    \begin{align}
    \text{dof} &= m(N - 1) - \sum_{i=1}^{J}c_i \\
    &=m(N-1) - \sum_{i=1}^{J}(m-f_i) \\
    &=m(N-1-J) + \sum_{i=1}^{J} f_i
    \end{align}
    $$
    其中 $m$ 表示刚体自由度，对于空间刚体 $m = 6$、对于平面刚体 $m = 3$；对于所有关节都满足 $f_i + c_i = m$
  
    - 平面 $k$ 杆结构（例）：属于平面机构，$m = 3$
  
      - 开链结构：又称**串联**机构，机构中不存在任何闭环
        <br>设机构有 $k$ 个关节，则（含地面）有 $k+1$ 个构件，$\text{dof}=3((k+1) - 1 - k) + k*1 = k$
        <br><img src="开链结构.jpg" width=40%>
      - 闭链结构：有**闭环**的结构，由于地面本身也是一个构件，故可以与地面构成闭环
        <br>设机构有 $k$ 个关节，则（含地面）有 $k$ 个构件，$\text{dof} = 3(k - 1 - k) + k*1 = k - 3$
        <br><img src="闭链结构.jpg" width=40%>
      - 曲柄滑块结构：属于**闭链**结构；如下图共有 3 个转动副和 1 个移动副，与地面形成闭环<br>$\text{dof} = 3(4 - 1 - 4) + 3 * 1 + 1 * 1 = 1$
        <br><img src="曲柄滑块结构.jpg" width=40%>
  
    - Delta 机器人（例）：属于空间结构，$m = 6$；如下图每条腿有 4 个球铰、3 个转动副、5 根杆<br>$\text{则 dof} = 6(3*5+2 - 1 - (4*3+3*3)) + 3*3 * 1 + 3*4 * 3 = 15$
      <br>
      <img src="Delta机器人.jpg" width=40%>
  
      > **注意**：上平台为静平台（自由度 = 0），下平台为**动平台**（自由度 = 3），剩余 12 个自由度表示 3 个平行四边形分别绕其长轴旋转的自由度
  

---

### 二、位形空间的拓扑表达

- 

---



### 三、任务空间与工作空间

- 任务空间：<u>机器人末端</u>**执行任务**时能够自然到达的空间，只与机器人任务有关、与机器人结构无关

- 工作空间：<u>机器人末端</u>能够到达**位形**的指标，只与机器人结构有关、与机器人任务无关

  > **注意**：以上两个空间**只与机器人末端位形有关**，与整个机器人的位形无关

- 任务空间、工作空间 和 C-空间（位形空间） 的区别与联系：

  - 任务空间、工作空间中的任意一点可以通过**不止一种位形**实现
  - 任务空间中的一些点，在某些情况下机器人位形无法到达，但必须至少在一个位形下可以到达
  - 具有不同 C-空间 的两个机构可能拥有相同的工作空间
    <br>平面2R开链机械臂 和 平面3R开链机械臂 均工作在圆面
  - 具有相同 C-空间 的两个机构可能拥有不同的工作空间
    <br>平面2R开链机械臂 和 球面2R开链机械臂 均可实现平面直角坐标点，但前者工作在圆面、后者工作在球面
